
#include "dht11.h"


// DHT11 초기화
void dht11Init(DHT11 *dht, GPIO_TypeDef *port, uint16_t pin)
{
	// 구조체의 포트와 핀번호 설정
	dht->port = port;
	dht->pin  = pin;
}

void dht11GpioMode(DHT11 *dht, uint8_t mode)
{
	GPIO_InitTypeDef GPIO_InitStruct = {0};  //GPIOC 핀에 대한 구조체 선언 및 초기화

	//출력모드 설정
	if(mode == OUTPUT)  //출력모드 설정
	{
		  GPIO_InitStruct.Pin = dht->pin;  //핀번호를 우리가 지정한 구조체 멤버(핀)
		  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
		  GPIO_InitStruct.Pull = GPIO_NOPULL;
		  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
		  HAL_GPIO_Init(dht->port, &GPIO_InitStruct); //포트를 우리가 지정한 구조체 멤버(포트)

	}
	else if(mode == INPUT)  //입력모드 설정
	{
		 GPIO_InitStruct.Pin = dht->pin;
		 GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
		 GPIO_InitStruct.Pull = GPIO_NOPULL;
		 GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;  //혹시 몰라서
		 HAL_GPIO_Init(dht->port, &GPIO_InitStruct);
	}


}

uint8_t dht11Read(DHT11 *dht)
{

}
