
#include "rcCar.h"
#include "main.h"





void rcCar(char data)
{
    // 먼저 모든 채널을 0으로 초기화
    TIM3->CCR1 = 0;
    TIM3->CCR2 = 0;
    TIM3->CCR3 = 0;
    TIM3->CCR4 = 0;

    // 입력에 따라 모터 제어
    switch(data)
    {
        case 'a':
        	TIM3->CCR1 = 500;
			TIM3->CCR2 = 0;
			TIM3->CCR3 = 0;
			TIM3->CCR4 = 500;
		// 왼쪽
            break;
        case 'd':

        	TIM3->CCR1 = 0;
			TIM3->CCR2 = 500;
			TIM3->CCR3 = 500;
			TIM3->CCR4 = 0;
            // 오른쪽
            break;
        case 'w':
        	TIM3->CCR1 = 500;
			TIM3->CCR2 = 0;
			TIM3->CCR3 = 500;
			TIM3->CCR4 = 0;
        	// 전진
            break;
        case 's':
        	TIM3->CCR1 = 0;
			TIM3->CCR2 = 500;
			TIM3->CCR3 = 0;
			TIM3->CCR4 = 500;  // 후진
            break;
        default:
            // 아무것도 안함, 이미 0으로 초기화됨
            break;
    }
}
